# API Design Document v0.1

## Table of Content
[TOC]

### ~~Pictures~~

####  1. Get a Picture

**Description:**

**Request:**

- URI

  ```http
  GET /api/pictures/{picture_url}
  ```


- Body

  EMPTY


**Response:**

- Status Code:  200 OK

- Body

  Binary image file

**Errors:**

- Permission denied

- Status Code: 401
- Body
```JSON
{
    "errors": {
        "title": "Please login",
        "detail": "Permission denied",
        "status": 401
    }
}
```

- File not found

- Status Code: 404

- Body

```Json
{
    "errors": {
        "title": "File not found",
        "detail": "File not found",
        "status": 404
    }
}
```

####  2. Batch Get Pictures

**Step 1**

**Request:**

- URI

  ```http
  POST /api/v1/batchasks
  ```


- Body

  ```Json
  {
      "data": [
          {
              "method": "GET",
              "url": "/api/v1/pictures/{picture_url1}"
          },
          {
              "method": "GET",
              "url": "/api/v1/pictures/{picture_url1}"
          },
      ]    
  }
  ```


**Response:**

- Status Code: 201 Created

- Body

  ```Json
  {
      "data": {
          "url": "/api/v1/batchasks/{ask_id}"
      }
  }
  ```

**Step 2**

**Request:**

- URI

  ```http
  GET http://example.com/api/batchtask/{ask_id}
  ```

- Body

  EMPTY

**Response:**

- Status Code: 200 OK

- Body

  A **zip file** that contains the resources asked by user.

**ERRORS:**
- Permission denied

- Status Code: 401
- Body
```JSON
{
    "errors": {
        "title": "Please login",
        "detail": "Permission denied",
        "status": 401
    }
}
```

- File not found

- Status Code: 404

- Body

```Json
{
    "errors": {
        "title": "File not found",
        "detail": "File not found",
        "status": 404
    }
}
```

####  3. Delete a picture

**Description:**

**Request:**

- URI

  ```http
  DELETE /api/v1/pictures/{picture_url}
  ```


- Body

  EMPTY


**Response:**

- Status Code: 204 DELETED

- Body

  EMPTY

**Errors:**

- Permission denied

- Status Code: 401
- Body
```JSON
{
    "errors": {
        "title": "Please login",
        "detail": "Permission denied",
        "status": 401
    }
}
```

- File not found

- Status Code: 404

- Body

```Json
{
    "errors": {
        "title": "File not found",
        "detail": "File not found",
        "status": 404
    }
}
```
